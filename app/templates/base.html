<!doctype html>
<html lang="en" data-bs-theme="{{ get_theme() }}">
   <head>
      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">

      <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

      <!-- Bootstrap Icons -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">

      <!--  Title -->
      <title>{% block title %} {% endblock %}</title>

      <!-- Favicon icon -->
      <link rel="shortcut icon" href="{{ url_for('static', filename='img/favicon.ico') }}">

      <!-- Theme -->
      <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/theme.css') }}">

      <!-- Tom Select -->
      <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/tom-select.css') }}">

      <!-- Vanilla JS Datepicker -->
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.1/dist/css/datepicker.min.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.1/dist/css/datepicker-bs5.min.css">

      <!-- Moment -->
      {{ moment.include_moment() }}
      {% if current_user.is_authenticated %}
         {{ moment.locale(current_user.locale) }}
      {% else %}
         {{ moment.locale(auto_detect=True) }}
      {% endif %}

      <!-- Extra Head -->
      {% block head %} {% endblock %}

   </head>
<body>
   <!-- Navbar -->
   {% block navbar %} {% endblock %}

   <!-- Main container -->
   <div class="container">
      {% with messages=get_flashed_messages(with_categories=true) %}
         {% if messages %}
            {% for category, message in messages %}
               <div class="alert alert-{{category}} alert-dismissible fade show" role="alert">
                  {{ message }}
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
               </div>
            {% endfor %}
         {% endif %}
      {% endwith %}

      <!-- Extra content -->
      {% block content %} {% endblock %}
   </div>

   <!-- Bootstrap Bundle with Popper -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>

   <!-- Jquery -->
   <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>

   <!-- Tom Select -->
   <script src="https://cdn.jsdelivr.net/npm/tom-select@2.1.0/dist/js/tom-select.complete.min.js"></script>

   <!-- Vanilla JS Datepicker -->
   <script src="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.1/dist/js/datepicker-full.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.3.1/dist/js/locales/es.js"></script>

   <!-- Custom Script -->
   <script src="{{ url_for('static', filename='js/script.js') }}"></script>

   <!-- Color modes -->
	<script src="{{ url_for('static', filename='js/color-modes.js') }}"></script>

   <!-- Extra scripts -->
   {% block scripts %} {% endblock %}

</body>
</html>